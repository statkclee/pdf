---
layout: page
title: "PDFë¥¼ ë°ì´í„°ë¡œ ë³´ëŠ” ì˜¬ë°”ë¥¸ ìì„¸"
subtitle: "ê¸€ê¼´(font)"
author:
- name: "ì´ê´‘ì¶˜"
  affiliation: "[Tidyverse Korea](https://www.facebook.com/groups/tidyverse/)"
date: "`r Sys.Date()`"
tags: ["ë°ì´í„° ê³¼í•™", "Data Science", "ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤", "PDF", "í‘œ", "í…Œì´ë¸”", "table", "OCR"]
output:
  html_document: 
    include:
      after_body: footer.html
      before_body: header.html
    theme: default
    toc: yes
    toc_depth: 2
    toc_float: true
    highlight: tango
    code_folding: show
    number_section: true
    self_contained: true
bibliography: bibliography_pdf.bib
csl: biomed-central.csl
mainfont: NanumGothic
urlcolor: blue
linkcolor: blue
editor_options: 
  chunk_output_type: console
---



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message=FALSE, warning=FALSE,
                      comment="", digits = 3, tidy = FALSE, prompt = FALSE, fig.align = 'center')

```

# ì£¼ìš” ìš©ì–´ ì •ë¦¬ [^spoqa-typography] {#glossary}

[^spoqa-typography]: [ì´ê²½ (2012ë…„ 12ì›” 03ì¼), "íƒ€ì´í¬ê·¸ë˜í”¼ ê²‰í•¥ê¸°", spoqa ê¸°ìˆ ë¸”ë¡œê·¸](https://spoqa.github.io/2012/12/03/Typography.html)

- `typography`: íƒ€ì´í¬ê·¸ë˜í”¼(Typography)ëŠ” í™œì ì„œì²´ì˜ ë°°ì—´ì„ ë§í•˜ëŠ”ë°, í™œìì˜ ì„œì²´ë‚˜ ê¸€ì ë°°ì¹˜ ë”°ìœ„ë¥¼ êµ¬ì„±í•˜ê³  í‘œí˜„í•˜ëŠ” ì¼ì„ ê°€ë¦¬í‚¤ëŠ” ìš©ì–´.
    - 'í™œì'ë¥¼ ì˜ë¯¸í•˜ëŠ” 'Type'ì™€ '-ìˆ 'ì„ ì˜ë¯¸í•˜ëŠ” ì ‘ë¯¸ì‚¬ 'Graphy'ì˜ í•©ì„±ì–´ì´ë‹¤. ì¦‰, ì˜ì–´ ë‹¨ì–´ `typography`ëŠ” ê·¸ë¦¬ìŠ¤ì–´ì˜ ë‘ ë‹¨ì–´ Ï„ÏÏ€Î¿Ï‚(typos, í‘œì‹œ)ì™€ Î³ÏÎ¬Ï†Ï‰(grapho, ì“°ë‹¤)ì—ì„œ ìœ ë˜ëœ ì¡°ì–´ì´ë‹¤.
- black letter     
- í°íŠ¸(font): ì‚¬ì „ì  ì˜ë¯¸ë¡œ ê¸€ìë€ ë§ì„ ì ëŠ” ì¼ì •í•œ ì²´ê³„ì˜ ë¶€í˜¸ë¡œ ìˆ«ìì™€ ë¬¸ì¥ë¶€í˜¸ê°€ í¬í•¨. ì˜ì–´ë¡œ letter, type, character, fontê°€ ê°™ì€ ëœ»ì„ ê°–ê³  ìˆëŠ”ë° ì¢€ë” ë¬¼ë¦¬ì ì¸ ì†ì„±ì„ ë‹´ê³  ìˆì–´ íƒ€ì…í˜ì´ìŠ¤(`typeface`)ë€ ë°”ë¡œ ì´ ê¸ˆì†í™œìì˜ ì°íˆëŠ” ì–¼êµ´ ë©´, ê·¸ ëª¨ì–‘ì„ ë§í•˜ëŠ” ê²ƒì„. ë˜í•œ, í°íŠ¸(font)ë€ í†µì¼ëœ êµ¬ì¡°ì™€ ì†ì„±ì„ ê°€ì§„ í•œ ë²Œì˜ ê¸°í˜¸ë‚˜ ê¸€ìë¥¼ ì§€ì¹­í•˜ë©°, ìš”ì¦˜ì€ ê°™ì€ ìŠ¤íƒ€ì¼ì„ ê°€ì§„ í°íŠ¸ ëª¨ë‘ë¥¼ ì§€ì¹­í•  ë•Œ ê°™ì€ ìŠ¤íƒ€ì¼ì˜ í°íŠ¸ ë¬¶ìŒì¸ íƒ€ì…íŒ¨ë°€ë¦¬(type family)ê°€ ìˆìŒ.
- ì´ìŒì(Ligatures): ë‘˜ ì´ìƒì˜ ê¸€ìë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ê²°í•©í•˜ëŠ” ê²ƒ
- í—¬ë² í‹°ì¹´(Helvetica) íƒ€ì… íŒ¨ë°€ë¦¬: ì¤‘ëŸ‰, íš êµµê¸°ì— ê´€í•´ì„œëŠ” ê°€ëŠë‹¤ë—ê³  ê²½ì¾Œí•œ ë¼ì´íŠ¸(light)ë¶€í„° ë ˆê·¤ëŸ¬(regular), ë¯¸ë””ì—„(medium), ë‘ê»ê³  ë¬´ê±°ìš´ ë³¼ë“œ(bold) ë“±ì´ ìˆê³  ê¸€ì í­ì— ê´€í•´ì„œëŠ” ìµìŠ¤íœë””ë“œ(expanded), ë ˆê·¤ëŸ¬(regular), ì½˜ë´ì‹œë“œ(condensed) ë“±ì´ ìˆê³ , ì´ ë³€í™” í­ì€ ì—‘ìŠ¤íŠ¸ë¼ ë¼ì´íŠ¸, ìš¸íŠ¸ë¼ ë³¼ë“œ, ìš¸íŠ¸ë¼ ìµìŠ¤íœë””ë“œ, ì—‘ìŠ¤íŠ¸ë¼ ì½˜ë´ì‹œë“œ ë“±ìœ¼ë¡œ ë” ë‚˜ë‰˜ê¸°ë„ í•œë‹¤.

![](fig/typography.png)
## ê·¸ë˜í”½ ì¥ì¹˜ {#graphics-device}

`ggplot`ì— í…ìŠ¤íŠ¸ë¥¼ í™”ë©´ì— í‘œí˜„í•˜ëŠ” ê·¸ë˜í”½ ì¥ì¹˜(Graphics Device, GD)ëŠ” 5ê°€ì§€ê°€ ì¡´ì¬í•œë‹¤.

- `png()` 
- `pdf()`
- ìŠ¤í¬ë¦° í™”ë©´ : Windows
- ìŠ¤í¬ë¦° í™”ë©´ : Mac 
- ìŠ¤í¬ë¦° í™”ë©´ : Linux

5ê°€ì§€ ê·¸ë˜í”½ ì¥ì¹˜ëŠ” ì„œë¡œ ë‹¬ë¼ ì •í™•í•œ í…ìŠ¤íŠ¸ë¥¼ í™”ë©´ì´ë‚˜ `png`, `pdf` íŒŒì¼ì´ë‚˜ ì´ë¯¸ì§€ì— ë„£ëŠ” ê²ƒì€ ì‰½ì§€ ì•Šì§€ë§Œ, ë‹¤ìŒ íŒ©í‚¤ì§€ê°€ ê·¸ ì—­í• ì„ ìˆ˜í–‰í•˜ê³  ìˆë‹¤.

- `showtext`
- `extrafont`
- `systemfonts`

<p style="font-family: Nanum Pen Script; font-size:17pt; font-style:italic">
    ë‚˜ëˆ”ê³ ë”• í°íŠ¸ í…ŒìŠ¤íŠ¸ ì¤‘ì…ë‹ˆë‹¤.
</p>

```{r}
library(showtext)

extrafont::fonttable()$FamilyName
```

#


```{r fonttype-face}
library(tidyverse)
library(ragg)
library(systemfonts)

code <- "x <- y != z"
logo <- "twitter"
fallback_text <- "This is English, ì´ê²ƒì€ í•œêµ­ì–´ë‹¤. ã“ã®æ–‡ã¯æ—¥æœ¬èªã§ã™ ğŸš€"
emojis <- "ğŸ‘©ğŸ¾ğŸ’»ğŸ”¥ğŸ“Š"

p <- ggplot() + 
  geom_text(
    aes(x = 0, y = 1, label = code), 
    family = "Fira Code"
  ) + 
  geom_text(
    aes(x = 0, y = 2, label = logo), 
    family = "Font Awesome 5 brands"
  ) + 
  geom_text(
    aes(x = 0, y = 3, label = fallback_text), 
    family = "Font Awesome 5 brands"
  ) + 
  geom_text(
    aes(x = 0, y = 3, label = emojis), 
    family = "Font Awesome 5 brands"
  ) + 
  expand_limits(y = c(0, 5))
p
```

## `typeface` vs `font` {#typeface-vs-font}

`typeface`ëŠ” ì„œì²´ë¡œ ë²ˆì—­ë˜ê³  `font`ëŠ” ê¸€ê¼´ë¡œ ë²ˆì—­ëœë‹¤. í•˜ë‚˜ì˜ `typeface`ì— ë‹¤ìˆ˜ `font`ê°€ í¬í•¨ë  ìˆ˜ ìˆë‹¤.
[**íŒ¬ê·¸ë¨(Pangram)**](https://ko.wikipedia.org/wiki/íŒ¬ê·¸ë¨)ì€ 'ëª¨ë“  ê¸€ì'ë¼ëŠ” ëœ»ìœ¼ë¡œ ì£¼ì–´ì§„ ëª¨ë“  ë¬¸ìë¥¼ ì ì–´ë„ í•œ ë²ˆ ì´ìƒ ì‚¬ìš©í•˜ì—¬ ë§Œë“  ë¬¸ì¥ì„ ëœ»í•œë‹¤. íŒ¬ê·¸ë¨ì€ ë¡œë ˜ ì…ìˆ¨ì²˜ëŸ¼ ê¸€ê¼´ ìƒ˜í”Œì„ ë³´ì—¬ì£¼ê±°ë‚˜ ì¥ë¹„ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ì˜ì–´ íŒ¬ê·¸ë¨ìœ¼ë¡œ ê°€ì¥ ìœ ëª…í•œ â€˜The quick brown fox jumps over the lazy dogâ€™ëŠ” 19ì„¸ê¸°ë¶€í„° ì‚¬ìš©ë˜ì–´ ì™”ë‹¤. 

```{r test-fonts}
code <- "x <- y != z"
logo <- "twitter"
fallback_text <- "This is English, ì´ê²ƒì€ í•œêµ­ì–´ë‹¤. ã“ã®æ–‡ã¯æ—¥æœ¬èªã§ã™ ğŸš€"
emojis <- "ğŸ‘©ğŸ¾ğŸ’»ğŸ”¥ğŸ“Š"
korean_text <- "ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´ì— íƒ€ê³ íŒŒ"
english_text <- "The quick brown fox jumps over the lazy dog"

ggplot() + 
  geom_text(
    aes(x = 0, y = 1, label = code), 
    family = "Fira Code") + 
  geom_text(
    aes(x = 0, y = 2, label = logo), 
    family = "") + 
  geom_text(
    aes(x = 0, y = 3, label = fallback_text), 
    family = "") + 
  geom_text(
    aes(x = 0, y = 4, label = emojis), 
    family = "") + 
  geom_text(
    aes(x = 0, y = 5, label = korean_text), 
    family = "NanumGothic") + 
  geom_text(
    aes(x = 0, y = 6, label = english_text), 
    family = "") + 
  expand_limits(y = c(0, 5)) +
  theme_void(base_family = 'Open Sans')
  # theme(text = element_text(family = 'Open Sans'))
```

```{r typeface-font}
ggplot() + 
  geom_text(
    aes(x = -0.1, y = 5, label = korean_text), 
    family = "NanumGothic") + 
  geom_text(
    aes(x = 0, y = 2, label = logo), 
    family = "") + 
  geom_text(
    aes(x = 0, y = 3, label = fallback_text), 
    family = "") + 
  geom_text(
    aes(x = 0, y = 4, label = emojis), 
    family = "") + 
  geom_text(
    aes(x = 0, y = 5, label = korean_text), 
    family = "NanumGothic") + 
  geom_text(
    aes(x = 0, y = 6, label = english_text), 
    family = "NanumGothic") + 
  expand_limits(y = c(0, 5)) 
```



## ì„¤ì¹˜ëœ ê¸€ê¼´ í™•ì¸ {#check-fonts}

[`systemfonts`](https://github.com/r-lib/systemfonts) íŒ©í‚¤ì§€ë¥¼ í™œìš©í•˜ì—¬ ë¡œì»¬ ì»´í“¨í„°ì—ì„œ ì„¤ì¹˜ëœ ê¸€ê¼´ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. 

```{r check-fonts}
library(systemfonts)

match_font('NanumGothic')

system_fonts() %>% 
  filter(str_detect(family, "Noto"))
```

```{r how-to-set-default-fonts}
library(extrafont)
# extrafont::font_import(pattern = "NanumBarunGothicBold",  prompt = FALSE)
# extrafont::font_import(pattern = "NanumBarunGothicLight", prompt = FALSE)
loadfonts()

ggplot() + 
  geom_text(
    aes(x = -0.1, y = 5, label = korean_text),
    family = "Noto Sans CJK KR", fontface = "plain", size = 7) + 
  geom_text(
    aes(x = -0.1, y = 4, label = korean_text),
    family = "Noto Sans CJK KR", fontface = "bold", size = 7) + 
  geom_text(
    aes(x = -0.1, y = 3, label = korean_text),
    family = "Noto Sans CJK KR", fontface = 1.5, size = 7) + 
  labs(title = korean_text) +
  expand_limits(y = c(0, 5))  +
  # theme(text = element_text(face="bold")) +
  theme_gray(base_family = "Noto Sans CJK KR")
```

