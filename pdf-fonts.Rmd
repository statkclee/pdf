---
layout: page
title: "PDFë¥¼ ë°ì´í„°ë¡œ ë³´ëŠ” ì˜¬ë°”ë¥¸ ìì„¸"
subtitle: "ê¸€ê¼´(font)"
author:
- name: "ì´ê´‘ì¶˜"
  affiliation: "[Tidyverse Korea](https://www.facebook.com/groups/tidyverse/)"
date: "`r Sys.Date()`"
tags: ["ë°ì´í„° ê³¼í•™", "Data Science", "ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤", "PDF", "í‘œ", "í…Œì´ë¸”", "table", "OCR"]
output:
  html_document: 
    include:
      after_body: footer.html
      before_body: header.html
    theme: default
    toc: yes
    toc_depth: 2
    toc_float: true
    highlight: tango
    code_folding: show
    number_section: true
    self_contained: false
bibliography: bibliography_pdf.bib
csl: biomed-central.csl
mainfont: NanumGothic
urlcolor: blue
linkcolor: blue
editor_options: 
  chunk_output_type: console
header-includes:
   - \usepackage{gensymb}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message=FALSE, warning=FALSE,
                      comment="", digits = 3, tidy = FALSE, prompt = FALSE, fig.align = 'center')

```

<iframe width="560" height="315" src="https://www.youtube.com/embed/TBs1abqWpY4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>

</iframe>

# ê¸€ê¼´ ë¶„ë¥˜ [^1] {#font-classification}

[^1]: [Adobe Korea (August 21, 2017), "ê¸€ê¼´ì˜ ê¸°ëŠ¥ê³¼ ë””ìì¸ì— ì í•©í•œ ê¸€ê¼´ ì„ íƒ ë°©ë²•"](https://blog.adobe.com/ko/publish/2017/08/21/whats-in-a-fonts-can-define-your-design.html#gs.u0he6a)

-   **í™œì(Type)**ëŠ” ë³¸ë˜ëŠ” ê¸€ìë¥¼ ë§Œë“œëŠ” ë° ì‚¬ìš©ëœ ë‚˜ë¬´ ë˜ëŠ” ê¸ˆì† ì¡°ê°ì„ ì¼ì»«ëŠ” ë§ì´ì—ˆìŠµë‹ˆë‹¤.
-   **íƒ€ì´í¬ê·¸ë˜í”¼(Typography)**: ì¸ì‡„ëœ í…ìŠ¤íŠ¸ì˜ ìŠ¤íƒ€ì¼ê³¼ ëª¨ì–‘ì„ ê°€ë¦¬í‚¤ëŠ” ë””ìì¸ ìš©ì–´ì…ë‹ˆë‹¤.
-   **ì„œì²´(ë˜ëŠ” ê¸€ê¼´ ëª¨ìŒ, Typeface)**: ê¸€ì ë° ê¸°í˜¸ê°€ ì„œë¡œ ë¹„ìŠ·í•œ íŠ¹ì§•ì„ ê°€ì§€ë„ë¡ ë””ìì¸ëœ ë¬¸ìfh íƒ€ì„ì¦ˆ(Times), ì—ì–´ë¦¬ì–¼(Arial) ë° ë¯¸ë‹ˆì–¸(Minion)ì„ ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
-   **ê¸€ê¼´(Font)**: ì„œì²´ì˜ íŠ¹ì • ìŠ¤íƒ€ì¼ì„ ì§€ì¹­í•˜ëŠ”ë°, ì˜ˆë¥¼ ë“¤ì–´, ì—ì–´ë¦¬ì–¼ ë¸”ë™(Arial Black)ì€ ì—ì–´ë¦¬ì–¼ ì„œì²´ ì¤‘ í•œ ê¸€ê¼´ì´ë©°, ë¯¸ë‹ˆì–¸ í”„ë¡œ ì´íƒ¤ë¦­ì²´(Minion Pro Italic)ëŠ” ë¯¸ë‹ˆì–¸ ê¸€ê¼´ ëª¨ìŒì— í¬í•¨ë˜ì–´ ìˆëŠ” ê¸€ê¼´ì´ë‹¤.

ê¸€ê¼´(Font)ëŠ” ë‹¤ì–‘í•˜ì§€ë§Œ í¬ê²Œ ë‹¤ìŒ 5ê°€ì§€ë¡œ ì˜ë¬¸ì˜ ê²½ìš° ë¶„ë¥˜ëœë‹¤. ê¸€ê¼´ì€ ê¸°ë³¸ì ìœ¼ë¡œ **ì„¸ë¦¬í”„(serif)**ì™€ **ì‚°ì„¸ë¦¬í”„(sans serif)**ì˜ 2ê°€ì§€ ìŠ¤íƒ€ì¼ë¡œ êµ¬ë¶„ë˜ëŠ”ë° ì„¸ë¦¬í”„ëŠ” ê¸€ìì˜ íš ëì— ì‘ì€ ì‚ì¹¨ì´ ìˆëŠ” ê¸€ê¼´ì´ë©° ì‚°ìŠ¤(sans)ì€ ë¼í‹´ì–´ë¡œ ì—†ë‹¤ëŠ” ëœ»ì´ê¸° ë•Œë¬¸ì— ì‚ì¹¨ì´ ì—†ëŠ” ê¸€ê¼´ì„ ì§€ì¹­í•©ë‹ˆë‹¤.

-   serif
-   sans serif
-   script
-   monospaced
-   display

ê°€ì¥ ì‰½ê²Œ ë¶„ë¥˜ë˜ëŠ” `monospaced` ê¸€ê¼´ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ ë“±ê°„ê²©ì„ ê°–ëŠ” ê¸€ê¼´ë¡œ `consolas`, `D2 Coding`ì´ ëŒ€í‘œì ì´ë‹¤. ì‚°ì„¸ë¦¬í”„(Sans serif)ì™€ ì„¸ë¦¬í”„(Serif) ê¸€ê¼´ì€ ë³¸ë¬¸ì— ì‚¬ìš©í•˜ê¸° ì í•©í•˜ì§€ë§Œ, ì¢€ë” ì‹œì„ ì„ ë„ëŠ” ë””ìì¸ì„ ìœ„í•´ì„œëŠ” ì¡°ê¸ˆ ë” ë§¤ë ¥ì ì¸ **ë””ìŠ¤í”Œë ˆì´(Display)** í˜¹ì€ **ìŠ¤í¬ë¦½íŠ¸(Script)**ì„ ì„ íƒí•˜ê³ , ì œëª©(Title)ì—ëŠ” ì‚°ì„¸ë¦¬í”„ ê¸€ê¼´ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤.

![](fig/font-classification.png)

## `typeface` vs `font` {#typeface-vs-font}

`typeface`ëŠ” ì„œì²´ë¡œ ë²ˆì—­ë˜ê³  `font`ëŠ” ê¸€ê¼´ë¡œ ë²ˆì—­ëœë‹¤. í•˜ë‚˜ì˜ `typeface`ì— ë‹¤ìˆ˜ `font`ê°€ í¬í•¨ë  ìˆ˜ ìˆë‹¤. [**íŒ¬ê·¸ë¨(Pangram)**](https://ko.wikipedia.org/wiki/íŒ¬ê·¸ë¨)ì€ 'ëª¨ë“  ê¸€ì'ë¼ëŠ” ëœ»ìœ¼ë¡œ ì£¼ì–´ì§„ ëª¨ë“  ë¬¸ìë¥¼ ì ì–´ë„ í•œ ë²ˆ ì´ìƒ ì‚¬ìš©í•˜ì—¬ ë§Œë“  ë¬¸ì¥ì„ ëœ»í•œë‹¤. íŒ¬ê·¸ë¨ì€ ë¡œë ˜ ì…ìˆ¨ì²˜ëŸ¼ ê¸€ê¼´ ìƒ˜í”Œì„ ë³´ì—¬ì£¼ê±°ë‚˜ ì¥ë¹„ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ì˜ì–´ íŒ¬ê·¸ë¨ìœ¼ë¡œ ê°€ì¥ ìœ ëª…í•œ 'The quick brown fox jumps over the lazy dog'ëŠ” 19ì„¸ê¸°ë¶€í„° ì‚¬ìš©ë˜ì–´ ì™”ë‹¤.

## ë¬¸ì„œ - R ë§ˆí¬ë‹¤ìš´ {#typeface-vs-font-rmarkdown}

ì•„ë˜ ì„œì²´(typeface, font family)ëŠ” `Noto Sans CJK KR`ì´ë‚˜ ê¸€ê¼´(font)ì€ í¬ê¸°, êµµê¸°, ìŠ¤íƒ€ì¼ì— ë”°ë¼ ë‹¤ì–‘í•˜ê²Œ í…ìŠ¤íŠ¸ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

::: {.row}
::: {.col-md-6}
**ì„œì²´(typeface, `Noto Sans CJK KR`)**

<p style="font-family: Noto Sans CJK KR; font-size:17pt; font-weight:medium">

ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´ì— íƒ€ê³ íŒŒ

</p>
:::

::: {.col-md-6}
**ê¸€ê¼´(font)**

<p style="font-family: Noto Sans CJK KR; font-size:17pt; font-weight:100">

ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´ì— íƒ€ê³ íŒŒ

</p>

<p style="font-family: Noto Sans CJK KR; font-size:17pt; font-style:italic, font-weight:200">

ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´ì— íƒ€ê³ íŒŒ

</p>

<p style="font-family: Noto Sans CJK KR; font-size:17pt; font-weight:300">

ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´ì— íƒ€ê³ íŒŒ

</p>

```{=html}
<p style="font-family: Noto Sans CJK KR; font-size:17pt; font-style:italic>
ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´ì— íƒ€ê³ íŒŒ
</p>

<p style="font-family: Noto Sans CJK KR; font-size:17pt; font-weight:500">
ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´ì— íƒ€ê³ íŒŒ
</p>
```
<p style="font-family: Noto Sans CJK KR; font-size:17pt; font-weight:700">

ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´ì— íƒ€ê³ íŒŒ

</p>

<p style="font-family: Noto Sans CJK KR; font-size:17pt; font-weight:900">

ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´ì— íƒ€ê³ íŒŒ

</p>
:::
:::

Rë§ˆí¬ë‹¤ìš´ì—ì„œ ë‹¤ì–‘í•œ ì„œì²´ë¥¼ ê¸€ê¼´ì„ ë‹¬ë¦¬í•˜ì—¬ í‘œí˜„í•˜ëŠ” ë°©ì‹ì€ `css`ë¥¼ í•´ë‹¹ í…ìŠ¤íŠ¸ì— ë‹¤ìŒê³¼ ê°™ì´ ì ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

```{r css-typeface, eval = FALSE}
<p style="font-family: Noto Sans CJK KR; font-size:17pt; font-style:italic, font-weight:200">
ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´ì— íƒ€ê³ íŒŒ
</p>

```

# ê¸€ê¼´ ì¶œë ¥ [^2] {#print-fonts}

[^2]: [Cookbook for R \>\> Graphs \>\> Fonts](http://www.cookbook-r.com/Graphs/Fonts/)

`fontface`ì— ëŒ€í•œ ê°ì„ ê°–ê¸° ìœ„í•´ ëŒ€í‘œ ê¸€ê¼´ì„ `ggplot`ìœ¼ë¡œ í™”ë©´ì— ì°ì–´ë³¸ë‹¤.

```{r print-fonts}
library(tidyverse)

fonttable <- tribble(~"Short", ~"Canonical",
                         "mono", "Courier",
                         "sans", "Helvetica",
                         "serif", "Times",
                         "", "AvantGarde",
                         "", "Bookman",
                         "", "Helvetica-Narrow",
                         "", "NewCenturySchoolbook",
                         "", "Palatino",
                         "", "URWGothic",
                         "", "URWBookman",
                         "", "NimbusMon",
                         "URWHelvetica", "NimbusSan",
                         "", "NimbusSanCond",
                         "", "CenturySch",
                         "", "URWPalladio",
                         "URWTimes", "NimbusRom")

fonttable <- fonttable %>% 
  mutate(pos = row_number())

fonttable_tbl <- fonttable %>% 
  pivot_longer(cols = c(Short, Canonical), names_to = "NameType", values_to = "Font")

# Face table
facetable <- tibble ("Face" = c("plain","bold","italic","bold.italic")) %>% 
  mutate(Face = factor(Face, levels = c("plain","bold","italic","bold.italic")))

fullfonts <- merge(fonttable_tbl, facetable)

fullfonts %>% 
  ggplot(aes(x=NameType, y=pos)) +
    geom_text(aes(label=Font, family=Font, fontface=Face)) +
  facet_wrap(~ Face, ncol=2)
```

# R ê¸€ê¼´ {#r-device}

`ggplot`ì— í…ìŠ¤íŠ¸ë¥¼ í™”ë©´ì— í‘œí˜„í•˜ëŠ” ê·¸ë˜í”½ ì¥ì¹˜(Graphics Device, GD)ëŠ” 5ê°€ì§€ê°€ ì¡´ì¬í•œë‹¤.

-   `png()`
-   `pdf()`
-   ìŠ¤í¬ë¦° í™”ë©´ : Windows
-   ìŠ¤í¬ë¦° í™”ë©´ : Mac
-   ìŠ¤í¬ë¦° í™”ë©´ : Linux

5ê°€ì§€ ê·¸ë˜í”½ ì¥ì¹˜ëŠ” ì„œë¡œ ë‹¬ë¼ ì •í™•í•œ í…ìŠ¤íŠ¸ë¥¼ í™”ë©´ì´ë‚˜ `png`, `pdf` íŒŒì¼ì´ë‚˜ ì´ë¯¸ì§€ì— ë„£ëŠ” ê²ƒì€ ì‰½ì§€ ì•Šì§€ë§Œ, ë‹¤ìŒ íŒ©í‚¤ì§€ê°€ ê·¸ ì—­í• ì„ ìˆ˜í–‰í•˜ê³  ìˆë‹¤.

-   `showtext`
-   `extrafont`
-   `systemfonts`

# `font` ë¬¸ì œì§€ {#font-playground-problem}

`ggplot` ê·¸ë˜í”„ì— ë‹´ì•„ë‚´ì•¼ í•˜ëŠ” ê¸€ê¼´ì€ ë‹¤ì–‘í•œ ê²ƒì´ í¬í•¨ëœë‹¤. ì½”ë“œì— ëŒ€í•œ ê¸€ê¼´(`consolas`, `D2 Coding` ë“±), ì´ëª¨ì§€ ê¸€ê¼´, í•œê¸€/ì˜ë¬¸ ê¸€ê¼´ ë“± ë‹¤ì–‘í•œë‹¤.

## í™˜ê²½ì„¤ì • {#english-test-environment}

ë¡œê³ , ì´ëª¨ì§€, ì½”ë”©ì— í•´ë‹¹ë˜ëŠ” ê¸€ê¼´ì„ Rì—ì„œ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì¤€ë¹„í•œë‹¤. `.ttf` íŠ¸ë£¨íƒ€ì… í°íŠ¸ ëŒ€ì‹  `.otf` í°íŠ¸ë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” `showtext` íŒ©í‚¤ì§€ë¥¼ í°íŠ¸ ê´€ë¦¬ì(?)ë¡œ ì‚¬ìš©í•œë‹¤.

```{r fonttype-face-logo, dev="ragg_png"}
library(tidyverse)
library(ragg)
library(systemfonts)
library(showtext)

## ë¡œê³  
font_add("Font Awesome 5 brands",
         regular = "Font Awesome 5 Free-Regular-400.otf")

## ì½”ë”© - Consolas, D2 Coding
font_add("Consolas",
         regular    = "consola.ttf",
         bold       = "consolab.ttf",
         italic     = "consolai.ttf",
         bolditalic = "consolaz.ttf")

font_add("D2 Coding",
         regular    = "D2Coding-Ver1.3.2-20180524.ttf",
         bold       = "D2CodingBold-Ver1.3.2-20180524.ttf")

## ì´ëª¨ì§€ í°íŠ¸
font_add("Twitter Color Emoji",
         regular    = "TwitterColorEmoji-SVGinOT.ttf")
# font_add("Noto Color Emoji",
#          regular    = "NotoColorEmoji.ttf")

font_families()
```

## ì˜ë¬¸ í…ŒìŠ¤íŠ¸ {#english-test}

"The quick brown fox jumps over the lazy dog" ì˜ë¬¸ í…ìŠ¤íŠ¸ì™€ ê´€ë ¨í•˜ì—¬ ì˜ì–´ë¡œ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ì‚¬ë¡€ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê¸€ê¼´ì„ `ggplot`ì— ì°ì–´ë³´ì.

```{r fonttype-face, dev="ragg_png", eval = FALSE}
## ì˜ˆì œ í…ìŠ¤íŠ¸ 

code <- "x <- y != z : Consolas"
logo <- "twitter : Font Awesome 5 brands"
fallback_text <- "This is English, ì´ê²ƒì€ í•œêµ­ì–´ë‹¤. ã“ã®æ–‡ã¯æ—¥æœ¬èªã§ã™ ğŸš€"
emojis <- "ğŸ‘©ğŸ¾ğŸ’»ğŸ”¥ğŸ“ŠğŸ¤©ğŸ§‘ğŸ¦¯"
english_text <- "The quick brown fox jumps over the lazy dog"


eng_p <- ggplot() + 
  geom_text(
    aes(x = 0, y = 5, label = code), 
    family = "Consolas", size = 15
  ) + 
  geom_text(
    aes(x = 0, y = 4, label = logo), 
    family = "Font Awesome 5 brands", size = 15
  ) + 
  geom_text(
    aes(x = 0, y = 3, label = fallback_text), 
    family = "serif", size = 15
  ) + 
  geom_text(
    aes(x = 0, y = 2, label = emojis), 
    family = "Twitter Color Emoji", size = 15
  ) + 
  geom_text(
    aes(x = 0, y = 1, label = english_text), 
    family = "sans", size = 15
  ) + 
  expand_limits(y = c(0, 5)) +
  theme_void()

eng_p %>% 
  ggsave(filename = "fig/ggplot-tyopgraphy-eng.png")

```

![](fig/ggplot-tyopgraphy-eng.png)

## í•œê¸€ í…ŒìŠ¤íŠ¸ {#korean-test}

```{r fonttype-face-korean, dev="ragg_png", eval = FALSE}
## ì˜ˆì œ í…ìŠ¤íŠ¸ 
korean_text <- "ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´ì— íƒ€ê³ íŒŒ: Noto Sans CJK KR"
korean_code <- "library(tidyvere); x <- y != z; #í•œê¸€ ì£¼ì„ : D2 Coding"
logo <- "twitter"
emojis <- "ğŸ‘©ğŸ¾ğŸ’»ğŸ”¥ğŸ“ŠğŸ¤©ğŸ§‘ğŸ¦¯"
fallback_text <- "This is English, ì´ê²ƒì€ í•œêµ­ì–´ë‹¤. ã“ã®æ–‡ã¯æ—¥æœ¬èªã§ã™ ğŸš€: Noto Sans CJK KR"

# ì‹œê°í™”
kor_p <- ggplot() + 
  geom_text(
    aes(x = 0, y = 5, label = korean_text), 
    family = "Noto Sans CJK KR", size = 15
  ) + 
  geom_text(
    aes(x = 0, y = 4, label = korean_code), 
    family = "D2 Coding", size = 15
  ) + 
  geom_text(
    aes(x = 0, y = 3, label = logo), 
    family = "Font Awesome 5 brands", size = 15
  ) + 
  geom_text(
    aes(x = 0, y = 2, label = emojis), 
    family = "Twitter Color Emoji", size = 15
  ) + 
  geom_text(
    aes(x = 0, y = 1, label = fallback_text), 
    family = "Noto Sans CJK KR", size = 15
  ) + 
  expand_limits(y = c(0, 5)) +
  theme_void()

kor_p %>% 
  ggsave(filename = "fig/ggplot-tyopgraphy.png")
```

![](fig/ggplot-tyopgraphy.png)
